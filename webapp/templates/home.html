{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
  <div id="webcam_div">
    <img id="stream" src="{{ cam_url }}" width="760" height="570" border=2 />
  </div>

  <table cellpadding="0" cellspacing="5" border="0">
    <tbody>
      <tr>
        <td>
          <strong>Light Controls:</strong>
        </td>
        <td>
          <button onclick="hit('{{ url_for('light_on') }}');">ON</button>
        </td>
        <td>|</td>
        <td>
          <button onclick="hit('{{ url_for('light_dim') }}');">DIM</button>
        </td>
        <td>|</td>
        <td>
          <button onclick="hit('{{ url_for('light_off') }}');">OFF</button>
        </td>
        <td>|</td>
        <td>
          <button onclick="hit('{{ url_for('light_red') }}');">RED</button>
        </td>
      </tr>
    </tbody>
  </table>
{% endblock %}

{% block scripts %}
  function hit(url) {
    var request = new Request(url, {method: 'GET'});
    fetch(request).then(function(){});
  }
{% endblock %}
